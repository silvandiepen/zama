// Global styles and variables
@use 'sass:map';
@use 'sass:color';
@use 'accessible-colors' as colors;

// Import Google Font
@import url('https://fonts.googleapis.com/css2?family=Zalando+Sans+Expanded:ital,wght@0,200..900;1,200..900&display=swap');

$base-colors: (
  'red': #b0323e,
  'green': #44be61,
  'blue': #398ae1,
  'babyBlue': #54c6ff,
  'yellow': #ffd452,
  'orange': #ff9513,
  'purple': #8b23c8,
  'magenta': #eb4bbb,
  'brown' : #83502e,
  'black': #06021a,
  'white': #ffffff,
  'turquoise': #48c6cd
);
$token-colors: (
  'primary': map.get($base-colors, 'yellow'),
  'secondary': map.get($base-colors, 'purple'),
  'tertiary': map.get($base-colors, 'blue'),
  'quaternary': map.get($base-colors, 'babyBlue'),
  'dark': map.get($base-colors, 'black'),
  'light': map.get($base-colors, 'white'),
  'info': map.get($base-colors, 'blue'),
  'success': map.get($base-colors, 'green'),
  'error': map.get($base-colors, 'red'),
  'danger': map.get($base-colors, 'red'),
  'warning': map.get($base-colors, 'orange'),
);

$colors: map.merge($base-colors, $token-colors);

:root {
  /* Surfaces & borders */
  --color-surface-primary: var(--card);
  --color-border-primary: color-mix(in srgb, var(--color-foreground), transparent 85%);

  --card: color-mix(in srgb, var(--color-background), var(--color-foreground) 5%);
  --card-text: var(--color-primary-text);

  @each $name, $color in $colors {
    --color-#{$name}: #{$color};
    --color-#{$name}-text: #{colors.pick-text-color($color)};
    --color-#{$name}-text-wcag: #{colors.get-contrast-color($color, colors.pick-text-color($color), 4.5)};
    --color-#{$name}-contrast-ratio: #{colors.contrast-ratio($color, colors.pick-text-color($color))};
    --color-#{$name}-rgb: #{color.channel($color, 'red', $space: rgb)},
    #{color.channel($color, 'green', $space: rgb)},
    #{color.channel($color, 'blue', $space: rgb)};
    --color-#{$name}-dark: #{color.mix($color, black, 20%)};
  }

  --font-family-display: "Zalando Sans Expanded",
  system-ui,
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  sans-serif;
  --font-family-sans: system-ui,
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  sans-serif;

  --font-size-xs: calc(var(--font-size) * 0.5);
  --font-size-s: calc(var(--font-size) * 0.75);
  --font-size: 1em;
  --font-size-l: calc(var(--font-size) * 1.25);
  --font-size-xl: calc(var(--font-size) * 1.5);
  --font-size-xxl: calc(var(--font-size) * 1.75);

  /* Font weights */
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Mono font */
  --font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --spacing: clamp(2em, 6vw, 6em);

  --space-xs: calc(var(--space) / 3);
  --space-s: calc(var(--space) / 2);
  --space: 1em;
  --space-m: var(--space);
  --space-l: calc(var(--space) * 2);
  --space-xl: calc(var(--space) * 3);
  --space-xxl: calc(var(--space) * 4);

  --border-radius-xs: calc(var(--border-radius) / 3);
  --border-radius-s: calc(var(--border-radius) / 2);
  --border-radius: 1em;
  --border-radius-m: var(--border-radius);
  --border-radius-l: calc(var(--border-radius) * 2);
  --border-radius-xl: calc(var(--border-radius) * 3);

  --bezier: cubic-bezier(0, .5, .5, 1.5);

  --color-background: var(--color-light);
  --color-foreground: var(--color-dark);
  --chart-bg: rgba(0, 0, 0, .06);
  --chart-grid: rgba(0, 0, 0, .12);
}

[data-theme="dark"] {
  --color-background: var(--color-dark);
  --color-foreground: var(--color-light);
  --chart-bg: rgba(255, 255, 255, .06);
  --chart-grid: rgba(255, 255, 255, .16);
}

* {
  box-sizing: border-box;
}

body,
html,
#root {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-family-sans);
  color: var(--color-foreground);
  background-color: var(--color-background);
}

h1,
h2,
h3 {
  font-family: var(--font-family-display);
  font-weight: 700;
  font-style: normal;
  line-height: 1;

  /* Debug: Fallback if font doesn't load */
  @supports not (font-family: "Zalando Sans Expanded") {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-weight: 600;
  }
}

h4,
h5,
h6 {
  font-family: var(--font-family-sans);
}

h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
img {
  margin: 0;

  &+h1,
  &+h2,
  &+h3,
  &+h4,
  &+h5,
  &+h6,
  &+p,
  &+blockquote,
  &+img {
    margin-top: 1em;
  }
}

// Route transitions container
.route-transition-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.route-transition {
  width: 100%;
  height: 100%;
}

// Reduce motion for users who prefer it
@media (prefers-reduced-motion: reduce) {
  .route-transition,
  .page-transition {
    animation: none !important;
    transition: none !important;
  }
}

.md-copy{
  position: absolute; right: 0; top: 0;
  background-color: color-mix(in srgb, var(--color-primary), transparent 50%);
  color: var(--color-primary-text);
  border: 1px solid var(--color-primary);
  border-radius: var(--border-radius-s);
  padding: var(--space-xs);
}
